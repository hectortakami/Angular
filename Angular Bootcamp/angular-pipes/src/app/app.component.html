<nb-layout>
  <nb-layout-header fixed>
    <h3>Angular Pipes</h3>
  </nb-layout-header>

  <nb-layout-column>
    <nb-card>
      <nb-card-body class="p-0">
        <table
          class="table table-striped table-dark"
          style="background-color: #434379;"
        >
          <thead style="background-color: #343461;">
            <tr>
              <th scope="col"><h5>Pipe</h5></th>
              <th scope="col"><h5>Params</h5></th>
              <th scope="col"><h5>Data Input</h5></th>
              <th scope="col"><h5>Usage</h5></th>
              <th scope="col"><h5>Data Output</h5></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><h6>Capitalize (Personalized)</h6></td>
              <td>N/A</td>
              <td>{{ str_variable }}</td>
              <td>str | capitalize</td>
              <td>{{ str_variable | capitalize }}</td>
            </tr>
            <tr>
              <td><h6>Password (Personalized)</h6></td>
              <td>
                <button
                  (click)="isPasswordActivated = !isPasswordActivated"
                  nbButton
                  outline
                  shape="round"
                  size="small"
                  status="success"
                >
                  Show / Hide Password
                </button>
              </td>
              <td>{{ str_variable }}</td>
              <td>str | password: isPasswordActivated</td>
              <td>
                <p *ngIf="isPasswordActivated" style="font-size: 0.65rem;">
                  {{ str_variable | password: isPasswordActivated }}
                </p>
                <p *ngIf="!isPasswordActivated">
                  {{ str_variable | password: isPasswordActivated }}
                </p>
              </td>
            </tr>
            <tr>
              <td><h6>Uppercase</h6></td>
              <td>N/A</td>
              <td>{{ str_variable }}</td>
              <td>str | uppercase</td>
              <td>{{ str_variable | uppercase }}</td>
            </tr>
            <tr>
              <td><h6>Lowercase</h6></td>
              <td>N/A</td>
              <td>{{ str_variable }}</td>
              <td>str | lowercase</td>
              <td>{{ str_variable | lowercase }}</td>
            </tr>
            <tr>
              <td><h6>Slice (strings)</h6></td>
              <td>[ start_char : end_char ]</td>
              <td>{{ str_variable }}</td>
              <td>str | slice: 5</td>
              <td>{{ str_variable | slice: 5 }}</td>
            </tr>
            <tr>
              <td><h6>Slice (arrays)</h6></td>
              <td>[ start_idx : end_idx(-1) ]</td>
              <td>[ {{ arr_variable }} ]</td>
              <td>array | slice: 2:4</td>
              <td>[ {{ arr_variable | slice: 2:4 }} ]</td>
            </tr>
            <tr>
              <td><h6>Number</h6></td>
              <td>N/A</td>
              <td>{{ num_variable }}</td>
              <td>num | number (default)</td>
              <td>{{ num_variable | number }}</td>
            </tr>
            <tr>
              <td><h6>Number (units)</h6></td>
              <td>[ " #units.0-#decimals " ]</td>
              <td>{{ num_variable }}</td>
              <td>num | number: "2.0-3"</td>
              <td>{{ num_variable | number: "2.0-3" }}</td>
            </tr>
            <tr>
              <td><h6>Number (decimals)</h6></td>
              <td>[ " .0-#decimals " ]</td>
              <td>{{ num_variable }}</td>
              <td>num | number: ".0-2"</td>
              <td>{{ num_variable | number: ".0-2" }}</td>
            </tr>
            <tr>
              <td><h6>Percent</h6></td>
              <td>[ " #units.0-#decimals " ]</td>
              <td>{{ percent_variable }}</td>
              <td>percent_variable | percent:'2.0-2'</td>
              <td>{{ percent_variable | percent: "2.0-2" }}</td>
            </tr>
            <tr>
              <td><h6>Currency</h6></td>
              <td>N/A</td>
              <td>{{ currency_variable }}</td>
              <td>currency_variable | currency</td>
              <td>{{ currency_variable | currency }}</td>
            </tr>
            <tr>
              <td><h6>Currency (â‚¬)</h6></td>
              <td>[ " country_code " ]</td>
              <td>{{ currency_variable }}</td>
              <td>currency_variable | currency: "EUR"</td>
              <td>{{ currency_variable | currency: "EUR" }}</td>
            </tr>
            <tr>
              <td><h6>Async</h6></td>
              <td>(Prints after resolve promise)</td>
              <td>PROMISE VALUE</td>
              <td>promise_variable | async</td>
              <td>{{ promise_variable | async }}</td>
            </tr>
            <tr>
              <td><h6>Date</h6></td>
              <td>N/A</td>
              <td>{{ date_variable }}</td>
              <td>date_variable | date</td>
              <td>{{ date_variable | date }}</td>
            </tr>
            <tr>
              <td><h6>Date (formatted)</h6></td>
              <td>[ "dd-MM-YYYY" ]</td>
              <td>{{ date_variable }}</td>
              <td>date_variable | date:"MM/dd/yyyy"</td>
              <td>{{ date_variable | date: "MM/dd/yyyy" }}</td>
            </tr>
            <tr>
              <td><h6>Date (time)</h6></td>
              <td>[ "short" | "medium" ]</td>
              <td>{{ date_variable }}</td>
              <td>date_variable | date:"short"</td>
              <td>{{ date_variable | date: "short" }}</td>
            </tr>
            <tr>
              <td>
                <h6>Date ( {{ language }} )</h6>
              </td>
              <td>
                <button
                  (click)="changeLanguage()"
                  nbButton
                  outline
                  shape="round"
                  size="small"
                  status="success"
                >
                  Toggle date language
                </button>
              </td>
              <td>{{ date_variable }}</td>
              <td>date_variable | date: 'dd-MMMM' : ' ' : '{{ language }}'</td>
              <td>{{ date_variable | date: "dd-MMMM":"":language }}</td>
            </tr>
          </tbody>
        </table>
      </nb-card-body>
    </nb-card>

    <div class="row d-flex justify-content-between px-3">
      <nb-card class="col-7">
        <nb-card-header>
          <h6>Secure DOM ( Personalized Pipe )</h6>
        </nb-card-header>
        <nb-card-body class="d-flex align-items-center justify-content-center">
          <iframe
            width="560"
            height="315"
            [src]="video_url | domSanitizer"
            frameborder="0"
            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
          ></iframe>
        </nb-card-body>
        <nb-card-footer>
          <p>Sanitize URL before inserting an iframe video</p>
        </nb-card-footer>
      </nb-card>
      <nb-card class="col-4">
        <nb-card-header><h6>JSON Pipe</h6></nb-card-header>
        <nb-card-body>
          <pre style="color: white;">
            {{ json_variable | json }}
          </pre>
        </nb-card-body>
      </nb-card>
    </div>
  </nb-layout-column>

  <nb-layout-footer fixed>
    <p>&copy; {{ year }} Hector M. Takami</p>
  </nb-layout-footer>
</nb-layout>
